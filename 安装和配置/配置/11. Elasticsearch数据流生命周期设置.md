##### Elasticsearch中的数据流生命周期设置

此功能处于技术预览阶段，可能在将来的版本中进行更改或删除。Elastic将努力解决任何问题，但技术预览中的功能不受官方GA功能支持SLA的约束。

以下是用于配置数据流生命周期的设置。

##### 集群级设置：

**data_streams.lifecycle.poll_interval**
（动态，时间单位值）Elasticsearch定期检查具有内置生命周期的所有数据流的下一个操作的频率。默认为5分钟。

**cluster.lifecycle.default.rollover**
（动态，字符串）此属性接受键值对格式的字符串，并配置触发数据流卷转的条件，当它具有生命周期配置时。此属性是实现细节，可能会更改。当前默认为max_age=auto,max_primary_shard_size=50gb,min_docs=1,max_primary_shard_docs=200000000，这意味着如果满足以下任何条件，您的数据流将进行卷转：

- 任何主分片达到50GB的大小，
- 或任何主分片包含200,000,000个文档
- 或索引达到特定年龄，这取决于数据流的保留时间，
- 并且至少有一个文档。

**data_streams.lifecycle.target.merge.policy.merge_factor**
（动态，整数）数据流生命周期通过更新目标后端索引的lucene合并策略因子来实现尾部合并。合并因子既是应合并在一起的段数，也是我们希望在给定层上找到的最大段数。此设置控制数据流生命周期在目标索引上配置的值。默认为16。该值将在目标索引的index.merge.policy.merge_factor索引设置下可见。

**data_streams.lifecycle.target.merge.policy.floor_segment**
（动态）数据流生命周期通过更新lucene合并策略来实现尾部合并。此floor segment大小是一种防止索引具有非常小段的长尾的方法。此设置控制数据流生命周期在目标索引上配置的值。默认为100MB。

##### 索引级设置：

以下索引级设置通常在数据流的后端索引上配置。

**index.lifecycle.prefer_ilm**
（动态，布尔值）此设置确定数据流的后端索引是否由索引生命周期管理（ILM）策略和数据流生命周期共同管理，仅当后端索引具有ILM策略并且数据流也具有内置生命周期时。当设置为true时，该索引由ILM管理；当设置为false时，后端索引由数据流生命周期管理。默认为true。

**index.lifecycle.origination_date**
（动态，长整型）如果指定，则这是在后端索引卷转后用于计算后端索引生成时代的时间戳。生成时代用于确定数据保留期限，因此，如果您创建包含旧数据的后端索引并希望确保保留期限或生命周期的其他部分基于数据的原始时间戳而不是它们被索引时的时间戳，可以使用此设置。以毫秒为单位指定为Unix纪元值。
