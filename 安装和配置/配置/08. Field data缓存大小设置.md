##### Field data缓存大小设置

字段数据缓存包含字段数据和全局序数，这两者都用于支持对某些字段类型进行聚合。由于这些是在堆上的数据结构，监视缓存的使用非常重要。

**缓存大小**

缓存中的条目构建起来很昂贵，因此默认行为是保持缓存在内存中加载。默认缓存大小是无限的，导致缓存增长直到达到字段数据断路器设置的限制。这种行为是可以配置的。

如果设置了缓存大小限制，缓存将开始清除最近更新的条目。此设置可以自动避免断路器限制，但需要根据需要重新构建缓存。

如果达到断路器限制，将阻止进一步增加缓存大小的请求。在这种情况下，您应该手动清除缓存。

- `indices.fielddata.cache.size`（静态）
字段数据缓存的最大大小，例如节点堆空间的38%，或绝对值，例如12GB。默认为无限制。如果选择设置它，应该小于字段数据断路器限制。

**监控字段数据**

您可以使用节点统计 API 或 cat fielddata API 监控字段数据的内存使用情况，以及字段数据断路器。
