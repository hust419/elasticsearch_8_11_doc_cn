##### 发现和集群形成受以下设置的影响：

-  `discovery.seed_hosts`（静态）
提供集群中主节点的地址列表。也可以是一个包含由逗号分隔的地址的单个字符串。每个地址的格式为 host:port 或 host。主机可以是要由 DNS 解析的主机名、IPv4 地址或 IPv6 地址。IPv6 地址必须用方括号括起来。如果主机名通过 DNS 解析为多个地址，则 Elasticsearch 会使用所有这些地址。DNS 查找受 JVM DNS 缓存的影响。如果未提供端口，则通过按以下顺序检查以下设置来确定端口： 
   - `transport.profiles.default.port`
   - `transport.port`

如果这两个设置都未设置，则默认端口为 9300。`discovery.seed_hosts` 的默认值为 `["127.0.0.1", "[::1]"]`。参见 `discovery.seed_hosts`。 

-  `discovery.seed_providers`（静态）
指定要使用哪种类型的种子主机提供程序来获取用于启动发现过程的种子节点的地址。默认情况下，它是基于设置的种子主机提供程序，该提供程序从 `discovery.seed_hosts` 设置中获取种子节点地址。 
-  `discovery.type`（静态）
指定 Elasticsearch 是否应形成多节点集群。默认为 multi-node，这意味着 Elasticsearch 在形成集群时发现其他节点，并允许其他节点稍后加入集群。如果设置为 single-node，则 Elasticsearch 形成单节点集群，并且抑制了由 `cluster.publish.timeout` 设置的超时。有关何时使用此设置的更多信息，请参见[单节点发现](https://www.elastic.co/guide/en/elasticsearch/reference/current/discovery-settings.html#single-node-discovery)。 
-  `cluster.initial_master_nodes`（静态）
设置全新集群中的初始一组有资格的主节点。默认情况下，此列表为空，这意味着此节点期望加入已经引导的集群。一旦集群形成，请删除此设置。在重新启动节点或将新节点添加到现有集群时，请勿使用此设置。参见 `cluster.initial_master_nodes`。

##### 专家级别的设置也会影响发现和集群形成，尽管不建议更改这些设置的默认值。

如果调整这些设置，则您的集群可能无法正确形成，或者可能对某些故障变得不稳定或无法容忍。

-  `discovery.cluster_formation_warning_timeout`（静态）
设置节点尝试形成集群的时间限制，超过此限制后，将记录一个集群未形成的警告。默认为 10 秒。如果在 `discovery.cluster_formation_warning_timeout` 过去后集群仍未形成，节点将记录一条以 "master not discovered" 开头的警告消息，描述发现过程的当前状态。 
-  `discovery.find_peers_interval`（静态）
设置节点在尝试另一轮发现之前等待的时间。默认为 1 秒。 
-  `discovery.probe.connect_timeout`（静态）
设置尝试连接到每个地址时等待的时间。默认为 30 秒。 
-  `discovery.probe.handshake_timeout`（静态）
设置在尝试通过握手标识远程节点时等待的时间。默认为 30 秒。 
-  `discovery.request_peers_timeout`（静态）
设置节点在再次询问其对等方之后等待的时间，然后才考虑请求失败。默认为 3 秒。 
-  `discovery.find_peers_warning_timeout`（静态）
设置节点在开始记录详细消息描述连接尝试失败的原因之前，将尝试发现其对等方的时间。默认为 3 分钟。 
-  `discovery.seed_resolver.max_concurrent_resolvers`（静态）
指定解析种子节点地址时要执行的并发 DNS 查找数。默认为 10。 
-  `discovery.seed_resolver.timeout`（静态）
指定解析种子节点地址时执行每个 DNS 查找的等待时间。默认为 5 秒。 
-  `cluster.auto_shrink_voting_configuration`（动态）
控制投票配置是否自动减少已离开的节点，只要它仍包含至少 3 个节点。默认值为 true。如果设置为 false，则投票配置永远不会自动缩小，您必须使用投票配置排除 API 手动删除已离开的节点。 
-  `cluster.election.back_off_time`（静态）
设置在每次选举失败后增加等待时间上限的量。请注意，这是线性回退。默认为 100 毫秒。将此设置从默认值更改可能导致您的集群无法选举出主节点。 
-  `cluster.election.duration`（静态）
设置允许每次选举花费的时间，然后节点将其视为失败并安排重试。默认为 500 毫秒。将此设置从默认值更改可能导致您的集群无法选举出主节点。 
-  `cluster.election.initial_timeout`（静态）
设置节点在首次尝试选举之前或在当选的主节点失败后等待的时间上限。默认为 100 毫秒。将此设置从默认值更改可能导致您的集群无法选举出主节点。 
-  `cluster.election.max_timeout`（静态）
设置节点在首次尝试选举之前等待的最大时间上限，以便持续很长时间的网络分区不会导致过于稀疏的选举。默认为 10 秒。将此设置从默认值更改可能导致您的集群无法选举出主节点。 
-  `cluster.fault_detection.follower_check.interval`（静态）
设置选定的主节点在对集群中的其他每个节点进行跟随者检查之间等待的时间。默认为 1 秒。将此设置从默认值更改可能导致您的集群变得不稳定。 
-  `cluster.fault_detection.follower_check.timeout`（静态）
设置选定的主节点在等待对跟随者检查的响应之前等待的时间。默认为 10 秒。将此设置从默认值更改可能导致您的集群变得不稳定。 
-  `cluster.fault_detection.follower_check.retry_count`（静态）
设置在选定的主节点将某个节点视为故障并将其从集群中移除之前，必须发生多少次连续的跟随者检查失败。默认为 3。将此设置从默认值更改可能导致 
